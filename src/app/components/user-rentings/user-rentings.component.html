<section id="sectionTable">
    <div class="table-responsive mb-5">
        <ng-container *ngIf="userRentings && userRentings.length > 0; else noRentings">
            <table class="bg-white table table-striped text-center">
                <thead>
                <tr>
                    <th>Model</th>
                    <th>Manufacturer</th>
                    <th>Start of Rent</th>
                    <th>End of Rent</th>
                    <th>Rent Address</th>
                    <th>Sum Cost</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let renting of userRentings">
                    <th>{{ renting.model }}</th>
                    <th>{{ renting.manufacturer }}</th>
                    <th>{{ renting.startOfRent }}</th>
                    <th>{{ renting.endOfRent }}</th>
                    <th>{{ renting.rentAddress }}</th>
                    <th>{{ renting.sumCost }}</th>
                    <th>
                        <button type="button" class="btn btn-danger" *ngIf="!renting.deletedAt"
                                (click)="showDeactivateConfirmationModal(renting)">Deactivate
                        </button>
                    </th>
                </tr>
                </tbody>
            </table>
        </ng-container>
        <ng-template #noRentings>
            <div class="centered-div d-flex flex-column align-items-center">
                <img class="rounded-circle w-50" src="assets/templateImages/crossedCarSign.jpg" alt="Your Image" />
                <p class="text-white my-2 text-center">No rentals in sight. Start your rental journey today!</p>
            </div>
        </ng-template>
    </div>

    <div class="modal fade" #deleteSuccessModal tabindex="-1" role="dialog" aria-labelledby="deleteSuccessModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteSuccessModalLabel">Car Deleted</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    The rent has been successfully deleted.
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Deactivate Confirmation Modal -->
<div id="deactivateConfirmationModal" class="modal" tabindex="-1" role="dialog" style="display: none;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirmation</h5>
                <button type="button" class="close" (click)="hideConfirmationModal()" data-dismiss="modal"
                        aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Are you sure you want to deactivate this car?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="hideConfirmationModal()" data-dismiss="modal">
                    Cancel
                </button>
                <button type="button" class="btn btn-danger" (click)="confirmDeactivate()">Deactivate</button>
            </div>
        </div>
    </div>
</div>
